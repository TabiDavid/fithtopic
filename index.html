<!DOCTYPE HTML>
<html>

<head>
  <link rel="stylesheet" href="index.css">
</head>
<body>

    <input type="text" id="email"><p>Write your email</p>
    <input type="text" id="name"><p>Write your name</p>
    <button onclick="store()" type="button">Save</button>

<p>Now see the name and email together</p>
<div id="Show"></div>

<button type="button" onclick="retrayData()">Press here</button>

<h1>Here is a new way to help others</h1>

</body>
<script>

function store(){

var inputEmail= document.getElementById("email");
var name = document.getElementById("name");
localStorage.setItem("email", inputEmail.value);
localStorage.setItem("name", name.value);
}

function retrayData(){

  
  document.getElementById("Show").innerHTML = "NAME: " + localStorage.getItem("name")+ "<br>" + "EMAIL: " + localStorage.getItem("email");
}
</script>
<body>
    <form>
       
            <p>What is your Name</p>
            <input type="text" id="title">
       
            <p>Where do you live?</p>
            <input type="text" id="city">

            <p>Where are you from?</p>
            <input type="text" id="country">

            <p>How old are you?</p>
            <input type="text" id="age">

            <button id="button">Click to Add</button>
        

        <div id="arrays">
            <pre></pre>
        </div>
    </form>

<p>Now convert that Associative array in a JSON Object</p>


<button type="button" onclick="Data()">Press here</button>
<div id="outPut"></div>


<p>Now reatrying all data</p>

<div id="demo"></div>

    <script>
        let people = [];
        
        const addPerson = (ev)=>{
            ev.preventDefault();
            let person = {
                Name: document.getElementById("title").value,
                City: document.getElementById("city").value,
                Country: document.getElementById("country").value,
                age: document.getElementById("age").value,
            }
            people.push(person);
            document.forms[0].reset(); 

            let pre = document.querySelector('#arrays pre');
            pre.textContent = '\n' + JSON.stringify(people, '\t', 2);

            localStorage.setItem('PeopleList', JSON.stringify(people) );
          }
            document.getElementById('button').addEventListener('click', addPerson);

//Convert the People list in a JSON parse//

function Data(){

  var newone = localStorage.getItem("PeopleList");
  
  var one = JSON.parse(newone);


  var i, j, x = " ";

  for (i = 0; i < one.length; i++) {

  x += "<h2>" + one[i].Name + "</h2>" + "<br>" + "Age: " + one[i].age + "<br>" + "City: " + one[i].City + "<br>" + "Country: " + one[i].Country;

  
}

document.getElementById("outPut").innerHTML = x;
}


    </script>

</body>

</html>